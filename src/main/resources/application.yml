server:
  port: 8084

knife4j:
  enable: true
  openapi:
    title: RFID门禁接口文档
    version: v1.0
  group:
    default:
      group-name: 默认分组
      api-rule: package
      api-rule-resources:
        - qiangtai.rfid.controller   # 实际控制器包

spring:
  application:
    name: rfid
  config:
    import:
      - classpath:config/security.yml
  datasource:
    url: jdbc:mysql://${MYSQL_URL:localhost:3306}/fgl_access_log?useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true&serverTimezone=GMT%2B8&useSSL=false
    username: ${MYSQL_USER:root}
    password: ${MYSQL_PASSWORD:root}
  output:
    ansi:
      enabled: always
# ======  解决 CORS 的关键：只让 springdoc 拦文档路径  ======
springdoc:
  webmvc:
    paths-to-match: /v3/api-docs/**,/swagger-ui/**,/doc.html
# 打开 MyBatis SQL 日志
logging:
  level:
    qiangtai.rfid.mapper: debug      # SQL
    qiangtai.rfid.service: info      # 业务
    qiangtai.rfid.controller: info   # 请求响应
    org.springframework.web.cors: debug
    qiangtai.rfid.config: debug  # 配置
    org.springframework.web.filter.CorsFilter: debug  # CORS
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr([%thread]){magenta} %clr(%-5level){highlight} %clr(%logger{36}){cyan} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/rfid/rfid.log          # 日志落盘路径（相对项目根）
  logback:
    rollingpolicy:
      max-file-size: 100MB
      max-history: 30